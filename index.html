<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Carte d'identitÃ© FR</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #e6e6e6;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    #idCard {
      width: 800px;
      height: 500px;
      background-image: url('https://yourdomain.com/id_card_bg.jpg'); /* Mets ici lâ€™image de fond sans filigrane */
      background-size: cover;
      position: relative;
      color: #000;
      font-size: 18px;
      padding: 40px;
      box-shadow: 0 0 15px rgba(0,0,0,0.4);
    }

    .field {
      position: absolute;
    }

    .prenom    { top: 100px; left: 250px; }
    .nom       { top: 140px; left: 250px; }
    .naissance { top: 180px; left: 250px; }
    .sexe      { top: 220px; left: 250px; }
    .taille    { top: 260px; left: 250px; }
    .adresse   { top: 300px; left: 250px; width: 500px; }
    .photo     { top: 100px; left: 40px; width: 160px; height: 200px; background: #ccc; overflow: hidden; }

    .photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    input, textarea {
      margin: 5px;
      padding: 5px;
      font-size: 16px;
    }

    #download {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background: #007BFF;
      color: #fff;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h2>GÃ©nÃ©rateur Carte dâ€™IdentitÃ© ðŸ‡«ðŸ‡· (Ancien modÃ¨le)</h2>

<div>
  <input type="text" id="prenomInput" placeholder="PrÃ©nom">
  <input type="text" id="nomInput" placeholder="Nom">
  <input type="text" id="naissanceInput" placeholder="Date et lieu de naissance">
  <input type="text" id="sexeInput" placeholder="Sexe (M/F)">
  <input type="text" id="tailleInput" placeholder="Taille">
  <input type="text" id="adresseInput" placeholder="Adresse complÃ¨te">
  <input type="file" id="photoInput" accept="image/*">
</div>

<div id="idCard">
  <div class="field photo" id="photoPreview"><img src="" alt="Photo"></div>
  <div class="field prenom" id="prenom"></div>
  <div class="field nom" id="nom"></div>
  <div class="field naissance" id="naissance"></div>
  <div class="field sexe" id="sexe"></div>
  <div class="field taille" id="taille"></div>
  <div class="field adresse" id="adresse"></div>
</div>

<button id="download">ðŸ“¥ TÃ©lÃ©charger la carte</button>

<!-- html2canvas pour capture image -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
  const prenomInput = document.getElementById('prenomInput');
  const nomInput = document.getElementById('nomInput');
  const naissanceInput = document.getElementById('naissanceInput');
  const sexeInput = document.getElementById('sexeInput');
  const tailleInput = document.getElementById('tailleInput');
  const adresseInput = document.getElementById('adresseInput');
  const photoInput = document.getElementById('photoInput');

  function updateCard() {
    document.getElementById('prenom').innerText = prenomInput.value;
    document.getElementById('nom').innerText = nomInput.value;
    document.getElementById('naissance').innerText = naissanceInput.value;
    document.getElementById('sexe').innerText = sexeInput.value;
    document.getElementById('taille').innerText = tailleInput.value;
    document.getElementById('adresse').innerText = adresseInput.value;
  }

  prenomInput.addEventListener('input', updateCard);
  nomInput.addEventListener('input', updateCard);
  naissanceInput.addEventListener('input', updateCard);
  sexeInput.addEventListener('input', updateCard);
  tailleInput.addEventListener('input', updateCard);
  adresseInput.addEventListener('input', updateCard);

  photoInput.addEventListener('change', () => {
    const file = photoInput.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        document.querySelector('#photoPreview img').src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  });

  document.getElementById('download').addEventListener('click', () => {
    html2canvas(document.getElementById("idCard")).then(canvas => {
      const link = document.createElement("a");
      link.download = "carte_identite.png";
      link.href = canvas.toDataURL();
      link.click();
    });
  });
</script>
</body>
</html>